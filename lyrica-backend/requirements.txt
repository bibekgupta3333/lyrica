# FastAPI Core
fastapi==0.109.0
uvicorn[standard]==0.27.0
pydantic>=2.12.0
pydantic-settings>=2.12.0

# Database
sqlalchemy==2.0.25
alembic==1.13.1
psycopg2-binary==2.9.9
asyncpg==0.29.0

# Redis
redis==5.0.1
hiredis==2.3.2

# Vector Store
chromadb>=1.3.0

# LLM & Embeddings
langchain>=1.0.0
langchain-community>=0.4.0
langgraph>=1.0.0
sentence-transformers>=2.2.0
ollama>=0.1.0
datasets>=2.0.0

# Authentication & Security
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6
bcrypt==4.1.2

# Utilities
python-dotenv==1.0.0
httpx>=0.25.2
aiofiles==23.2.1
python-slugify==8.0.2
psutil==5.9.7

# Logging & Monitoring
loguru==0.7.2
prometheus-client==0.19.0
opentelemetry-api>=1.22.0
opentelemetry-sdk>=1.22.0

# Testing
pytest==7.4.4
pytest-asyncio==0.23.3
pytest-cov==4.1.0
pytest-mock==3.12.0
faker==22.3.0

# Development
black==24.1.1
isort==5.13.2
flake8==7.0.0
mypy==1.8.0
pre-commit>=3.6.0

# Documentation
mkdocs>=1.5.3
mkdocs-material>=9.5.6

# Audio Processing (Python 3.12 compatible versions)
librosa>=0.11.0
pydub==0.25.1
soundfile>=0.12.1
numpy>=2.0.0
scipy>=1.11.0
audioread>=3.0.1
resampy>=0.4.2
matplotlib>=3.8.0
pyloudnorm==0.1.1

# Voice Synthesis & TTS (Python 3.12 compatible alternatives)
# Note: Coqui TTS only supports Python <=3.11
# Using alternative TTS solutions for Python 3.12:
edge-tts>=6.1.0  # Microsoft Edge TTS (cloud-based, no ML dependencies)
pyttsx3>=2.90  # Offline TTS engine wrapper
gTTS>=2.5.0  # Google Text-to-Speech
# For advanced features, consider:
# - Using Docker with Python 3.11 for Coqui TTS
# - Installing bark-tts from source with Python 3.12 patches
# - Using external TTS APIs (ElevenLabs, Azure, AWS Polly)

# Voice Enhancement (Neural Vocoders)
# Primary: Vocos - Python 3.12 compatible neural vocoder
vocos>=0.1.0  # Modern neural vocoder with Python 3.12 support
# Alternative: parallel-wavegan (legacy, may have Python 3.12 issues)
# parallel-wavegan>=0.5.0  # Uncomment if needed (requires Python <=3.11)
#
# Fallback: Enhanced audio processing (always available)
# Uses librosa, scipy, numpy for quality improvements

# Prosody & Pitch Enhancement
crepe>=0.0.13  # CREPE for accurate pitch tracking (Python 3.12 compatible)
# Note: CREPE requires TensorFlow. Install with: pip install tensorflow
# Falls back to librosa pitch tracking if TensorFlow not available

# Quality Metrics
pesq>=0.0.4  # PESQ (Perceptual Evaluation of Speech Quality)
pystoi>=0.3.3  # STOI (Short-Time Objective Intelligibility)
# Note: MOS (Mean Opinion Score) is estimated from audio features

# Voice Activity Detection (Python 3.12 compatible)
# silero-vad requires torch which is compatible with 3.12
torch>=2.2.0
torchaudio>=2.2.0
# Note: Install silero-vad after torch is installed
# pip install git+https://github.com/snakers4/silero-vad.git

# Phonemizer (requires espeak-ng system package)
# phonemizer>=3.3.0  # May have issues on Python 3.12, install separately if needed

# Music Generation (Python 3.12 compatible)
# Note: AudioCraft has compatibility issues with Python 3.12:
# - Requires Python 3.9-3.11
# - Requires torch==2.1.0 (conflicts with Python 3.12 compatible torch>=2.2.0)
# - Requires xformers<0.0.23 (may not build on macOS ARM)
# The code includes a fallback to generate placeholder audio when AudioCraft is unavailable.
# To install AudioCraft (requires Python 3.9-3.11 environment):
#   pip install audiocraft>=1.3.0
#   pip install av==11.0.0 julius hydra-core hydra_colorlog sentencepiece num2words torchmetrics einops flashy
#   pip install 'xformers<0.0.23'  # May require OpenMP support
transformers>=4.36.0
torch>=2.2.0  # Python 3.12 compatible
torchaudio>=2.2.0  # Python 3.12 compatible
music21==9.1.0
pretty-midi==0.2.10
mido==1.3.0
